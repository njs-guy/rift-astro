---
import Layout from "../../layouts/Layout.astro";

// TODO: Astro getCollection

export async function getStaticPaths() {
	const posts = await Astro.glob("../../content/posts/*.md");

	return posts.map((post) => ({
		params: {
			slug: post.frontmatter.slug,
		},
		props: {
			post,
		},
	}));
}

const { Content, frontmatter } = Astro.props.post;
---

<Layout title={frontmatter.title}>
	<div class="flex flex-col gap-4">
		<h1>{frontmatter.title}</h1>
		<p><i>{frontmatter.subtitle}</i></p>
		<p>
			By <strong>{frontmatter.author}</strong> on {
				new Date(frontmatter.date).toLocaleDateString("en-US", {
					timeZone: "UTC",
				})
			}
		</p>
		<br />
		<div class="md-content">
			<Content />
		</div>
	</div>
</Layout>
