@import url("https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Inter:wght@100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap")
layer(base);

/* TODO: Self-host fonts */

@import "tailwindcss";
@plugin "@tailwindcss/typography";
@plugin "daisyui";
@plugin "daisyui/theme" {
	name: "light";
	default: true;
	prefersdark: false;
	color-scheme: dark;
	--color-base-100: var(--base-100-light);
	--color-base-200: var(--base-200-light);
	--color-base-300: var(--base-300-light);
	--color-base-content: var(--normal-text-light);
	--color-primary: var(--primary-light);
	--color-secondary: var(--secondary-light);
	--color-accent: var(--accent-light);
	--color-neutral: var(--neutral-light);
	--color-neutral-content: var(--normal-text-light);
	--color-info: var(--info-light);
	--color-success: var(--success-light);
	--color-warning: var(--warning-light);
	--color-error: var(--error-light);
	--radius-box: 0.5rem;

	/* TODO: Theme switching is broken lol */
}
@plugin "daisyui/theme" {
	name: "dark";
	default: false;
	prefersdark: true;
	color-scheme: dark;
	--color-base-100: var(--base-100-dark);
	--color-base-200: var(--base-200-dark);
	--color-base-300: var(--base-300-dark);
	--color-base-content: var(--normal-text-dark);
	--color-primary: var(--primary-dark);
	--color-secondary: var(--secondary-dark);
	--color-accent: var(--accent-dark);
	--color-neutral: var(--neutral-dark);
	--color-neutral-content: var(--normal-text-dark);
	--color-info: var(--info-dark);
	--color-success: var(--success-dark);
	--color-warning: var(--warning-dark);
	--color-error: var(--error-dark);
	--radius-box: 0.5rem;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentColor);
	}
}

:root {
	color-scheme: light dark;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-text-size-adjust: 100%;

	/* variables */

	/* fonts */
	--base-font-family: "Inter", Helvetica, Arial, sans-serif;
	--heading-font-family: "Cabin", Helvetica, Arial, sans-serif;
	--mono-font-family: "JetBrains Mono", Consolas, monospace;

	/* light colors */
	--base-100-light: #f0f0f0;
	--base-200-light: #e6e6e6;
	--base-300-light: #dcdcdc;
	--normal-text-light: #101012;
	--dim-text-light: #818387;
	--primary-light: #4fa6ed;
	--secondary-light: #fafdff;
	--accent-light: #14b8a6;
	--neutral-light: var(--base-300-light);
	--info-light: #4fa6ed;
	--success-light: #8ebd6b;
	--warning-light: #9a6b16;
	--error-light: #e45649;

	/* dark colors */
	--base-100-dark: #1f2329;
	--base-200-dark: #282c34;
	--base-300-dark: #30363f;
	--normal-text-dark: #d6d6d6;
	--dim-text-dark: #7a818e;
	--primary-dark: #c678dd;
	--secondary-dark: #e2b86b;
	--accent-dark: #14b8a6;
	--neutral-dark: var(--base-300-dark);
	--info-dark: #1479cc;
	--success-dark: #8ebd6b;
	--warning-dark: #9a6b16;
	--error-dark: #993939;
}

html {
	margin: 0;
	padding: 0;
	background-color: #1e1e1e;
}

body {
	@reference text-lg;
	font-family: var(--base-font-family);
}

code {
	@reference bg-base-300;
	@reference rounded-box!;
}

h1,
h2,
h3,
h4,
h5,
h6 {
	@reference heading-font;
}

.heading-font {
	font-family: var(--heading-font-family);
}

.heading-title {
	@reference text-6xl font-bold;
}

/* TODO: Make headings use these by default. */
.heading1 {
	@reference text-4xl font-bold;
}

.heading2 {
	@reference text-3xl font-bold;
}

.heading3 {
	@reference text-2xl font-bold;
}

.heading4 {
	@reference text-xl font-bold;
}

.heading5 {
	@reference text-lg font-bold;
}

.heading6 {
	@reference text-base font-bold;
}

.main-content {
	@reference max-width mx-auto flex flex-col m-0 p-0 min-h-screen;
}

.md-content {
	@reference prose prose-headings:font-bold prose-img:rounded-box prose-code:rounded-box;
	@reference prose-p:text-base-content prose-ul:text-base-content prose-ol:text-base-content prose-headings:text-base-content prose-table:text-base-content;
	@reference prose-h1:text-4xl prose-h2:text-3xl prose-h3:text-2xl prose-h4:text-xl prose-h5:text-lg prose-h6:text-base;

	line-height: 1.6rem;
}

.doc-summary {
	@reference text-base-content rounded-box p-2;
	min-width: 200px;
}

.doc-summary h1 {
	@reference font-bold;
}

.active-page {
	@reference text-primary;
}

.doc-summary-active {
	@reference text-primary font-bold;
}

.task-list-item {
	list-style: none;
}

.tablist-wrapper li {
	list-style: none;
	margin: 0px;
	padding: 0px;
	line-height: 1.6rem;
}

.tablist-wrapper ul {
	padding: 0px;
	margin: 0px;
}

#table-of-contents {
	margin-top: 0;
}

.doc-content {
	@reference w-full;
}

.doc-content h2,
.doc-content h3,
.doc-content h4,
.doc-content p {
	margin-top: 0;
}

.doc-content h2 {
	margin-bottom: 1.25rem;
}

.doc-content section pre {
	@reference w-full;
	margin: 0px !important;
}

.mono-font {
	font-family: var(--mono-font-family);
}

.doc-content section pre,
.md-content .astro-code,
.md-content code,
.doc-content code {
	@reference mono-font rounded-box;
}

.md-content code,
.doc-content code {
	@reference bg-base-200 text-base-content;
}

/* Removes the background from above in fenced code blocks. */
/* Code in fenced blocks shouldn't have a bg color
because it should use the color theme from Shiki.  */
.astro-code code {
	background-color: transparent !important;
}

.rift-code-group {
	@reference tabs tabs-bordered;
}

.rift-grid {
	@reference grid gap-2 w-full;
}

.rift-info-box {
	@reference rounded-box mb-5;
}

.rift-info-box p,
.rift-info-box ul,
.rift-info-box li,
.rift-info-box h1,
.rift-info-box h2,
.rift-info-box h3,
.rift-info-box h4,
.rift-info-box h5,
.rift-info-box h6 {
	@reference mb-0;
}

.rift-info-box-bg {
	@reference bg-neutral;
}

.rift-link-box {
	@reference rift-info-box-bg;
}

.rift-info-box.bg-neutral p {
	@reference text-neutral-content;
}

.rift-info-box.bg-info p,
.rift-info-box.bg-info .theme-icon {
	@reference text-info-content fill-info-content;
	/* @reference text-red-500; */
}

.rift-info-box.bg-warning p,
.rift-info-box.bg-warning .theme-icon {
	@reference text-warning-content;
}

.rift-info-box.bg-error p,
.rift-info-box.bg-error .theme-icon {
	@reference text-error-content;
}

.tab-active {
	@reference text-primary;
}

.tab-content hidden {
	visibility: hidden;
}

.max-width {
	@reference max-w-5xl;
}

.dim-text {
	/* color: var(--dim-text); */
	/* TODO: Override using the variable, but default to this. */
	@reference opacity-60;
}

.icon {
	@reference fill-base-content;
}

.theme-icon {
	@reference h-4 w-4;
}

.page-nav-icon {
	@reference h-8;
}

.theme-icon-lg {
	@reference h-6 w-6;
}

.social-icon {
	@reference w-8 h-8;
}

/* Inactive tab */
.tab:not(input:checked) {
	@reference dim-text;
}

/* Active tab */
.tab:is(input:checked) {
	@reference border-primary;
}

.rift-info-box-summary-content > p {
	@reference pt-2;
}

/* Dark mode code filter */
[data-theme="dark"] .astro-code,
[data-theme="dark"] .astro-code span {
	color: var(--shiki-dark) !important;
	background-color: var(--shiki-dark-bg) !important;
}

/* Fixes auto theme when the user prefers a dark color scheme. */
@media (prefers-color-scheme: dark) {
	[data-theme="auto"] .astro-code,
	[data-theme="auto"] .astro-code span {
		color: var(--shiki-dark) !important;
		background-color: var(--shiki-dark-bg) !important;
	}
}
